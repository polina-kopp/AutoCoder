<div class="step-text">
<p></p><h5 id="description">Description</h5><p>In this stage, your workflow should automatically create a pull request with the generated code. To achieve this, you need to use the <a href="https://github.com/peter-evans/create-pull-request" rel="noopener noreferrer nofollow" target="_blank">create pull request</a> external workflow to streamline the process. Study the requirements for using this workflow and integrate it into your own workflow. At the end of this stage, your workflow should commit the files generated by the script in the previous stage, and create a pull request based on them.</p><h5 id="objectives">Objectives</h5><p>Modify your workflow to commit the generated files and create a pull request. You should use the <a href="https://github.com/peter-evans/create-pull-request" rel="noopener noreferrer nofollow" target="_blank">create pull request</a> external action to create the pull request. Your workflow should have jobs or steps that:</p><ul><li><p>Checkout the repo</p></li><li><p>Make the script executable;</p></li><li><p>Run the script and pass the appropriate environment variables;</p></li><li><p>Commit the generated code</p></li><li><p>Create a pull request with the generated code;</p></li></ul><p>To make sure that the workflow works as expected, you should:</p><ul><li><p>Configure your workflow's local git settings with the following values:</p><ul><li><p>user.name: "autocoder-bot"</p></li><li><p>user.email: "actions@github.com</p></li></ul></li><li><p>The <a href="https://github.com/peter-evans/create-pull-request" rel="noopener noreferrer nofollow" target="_blank">create pull request</a> action can be used without any inputs. However, for this project, it should be provided with the following additional parameters:</p><ul><li><p>The branch should be named following the convention <code class="java">autocoder-branch-issueNumber</code></p></li><li><p>base: "main"</p></li><li><p>labels: "autocoder-bot"</p></li></ul></li></ul><p>In order for your workflow to create pull requests, you need to explicitly provide write access to both content and pull requests using the <em>permissions</em> key. For more details, review the GitHub Actions <a href="https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#permissions" rel="noopener noreferrer nofollow" target="_blank">documentation</a> on permissions.</p><h5 id="examples">Examples</h5><p><strong>Example 1:</strong></p><p style="text-align: center;"><picture><source media="(max-width: 480px)" srcset="https://ucarecdn.com/1074673c-e10e-494c-a174-7528732b83c6/-/stretch/off/-/resize/480x/-/format/webp/ 1x,https://ucarecdn.com/1074673c-e10e-494c-a174-7528732b83c6/-/stretch/off/-/resize/960x/-/format/webp/ 2x,https://ucarecdn.com/1074673c-e10e-494c-a174-7528732b83c6/-/stretch/off/-/resize/1440x/-/format/webp/ 3x" type="image/webp"/><source media="(max-width: 800px)" srcset="https://ucarecdn.com/1074673c-e10e-494c-a174-7528732b83c6/-/stretch/off/-/resize/800x/-/format/webp/ 1x,https://ucarecdn.com/1074673c-e10e-494c-a174-7528732b83c6/-/stretch/off/-/resize/1600x/-/format/webp/ 2x,https://ucarecdn.com/1074673c-e10e-494c-a174-7528732b83c6/-/stretch/off/-/resize/2400x/-/format/webp/ 3x" type="image/webp"/><source srcset="https://ucarecdn.com/1074673c-e10e-494c-a174-7528732b83c6/-/stretch/off/-/resize/1100x/-/format/webp/ 1x,https://ucarecdn.com/1074673c-e10e-494c-a174-7528732b83c6/-/stretch/off/-/resize/2200x/-/format/webp/ 2x,https://ucarecdn.com/1074673c-e10e-494c-a174-7528732b83c6/-/stretch/off/-/resize/3000x/-/format/webp/ 3x" type="image/webp"/><img alt="Sample workflow run" height="480" src="https://ucarecdn.com/1074673c-e10e-494c-a174-7528732b83c6/" width="1200"/></picture></p><p>After modifying the workflow, head back to your IDE and provide the full url of your repository. Finally, hit the <em>Check</em> button.</p>
</div>